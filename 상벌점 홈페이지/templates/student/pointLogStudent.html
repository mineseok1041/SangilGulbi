<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상벌점 내역</title>
    <link href="{{ url_for('static', filename='css/student/pointLogStudent.css') }}" rel="stylesheet">
</head>

<button class="nav-toggle hamburger" aria-label="메뉴 열기">&#9776;</button>

<header>
    <h2 class="main">상벌점 내역</h2>
</header>

<nav class="sidebar">
    <img class="profiles" src="{{ url_for('static', filename='img/simple.png') }}">
    <p class="name">{{ usersDTO.stdNum }} {{ usersDTO.name }}</p>

    <a class="mypage_nav" href="/student/">마이페이지</a>
    <hr class="first">
    <a class="log_nav" href="/student/pointLog">상벌점 내역</a>
    <hr class="two">
    <a class="pointReasons_nav" href="/student/pointReasons">상벌점 항목</a>
    <hr class="three">
    <a class="community_nav" href="/student/community">게시판</a>

    <button class="myInfoEdit_nav">내 정보 수정</button>
    <hr class="four">
    <button class="logout" onClick="location.href='/auth/logout.do'">logout</button>
</nav>

<body>
    <div class="log_table">
        <table>
            <thead>
                <tr>
                    <th data-column="3" class="sortable">사유</th>
                    <th data-column="5" class="sortable">부여 점수</th>
                </tr>
            </thead>
            <tbody>
                    {% for pointLog in pointLogList %}
                    <tr class="main-row">
                        <td title="{{ pointLog.reason }}">{{ pointLog.reason }}</td>
                        <td>{{ pointLog.point }}</td>
                    </tr>
                    <tr class="dropdown-row"> 
                        <td colspan="6" class="pointReason">
                            <p class="date">부여 시각 : {{ pointLog.addDate }}</p>
                            <p class="teacher">부여자 : {{ pointLog.giveTeacherName }}</p>
                            <p class="reason">사유 : {{ pointLog.reason }}</p>
                            <p class="opinion">의견 : {{ pointLog.opinion }}</p>
                        </td>
                    </tr>
                    {% endfor %}
            </tbody>
        </table>
        <input type="hidden" id="currentPage" value="{{ currentPage }}">
        <input type="hidden" id="maxPage" value="{{ maxPage }}">
        <div class="pageNation">
            <button class="pageNation-btn" onclick="location.href='?page={{ currentPage - 1 }}'">←</button>
            <button class="pageNation-btn active">{{ currentPage }}</button>
            <button class="pageNation-btn" onclick="location.href='?page={{ currentPage + 1 }}'">→</button>
        </div>
    </div>
</body>

<script src="{{ url_for('static', filename='js/student/pointLogStudent.js') }}"></script>
<script src="{{ url_for('static', filename='js/auth/myInfoEditOpen.js') }}"></script>
<script src="{{ url_for('static', filename='js/student/paging.js') }}"></script>
</html>